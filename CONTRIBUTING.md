This guide provides instructions on developing and testing changes to this project. 

# Running the automated tests

Use the following steps to install GDS as a standalone project and run the tests:

1. Create `gradle-local.properties` and set `mlUsername` and `mlPassword` to your admin or admin-like username and 
   password
2. Run `./gradlew -i mlDeploy loadTestData test`

# Manual testing

You can perform manual testing by following the instructions in the `examples/sample-project/README.md` file for 
deploying an application that depends on marklogic-geo-data-services. 

Before doing so, you'll first need to publish marklogic-geo-data-services locally. To do so, run:

    ./gradlew publishToMavenLocal

This will put a copy of the marklogic-geo-data-services library in your local Maven repository (which defaults to 
`~/m2/repository`). This is required so that the sample project can depend on marklogic-geo-data-services via the 
[ml-gradle mlBundle Gradle configuration](https://github.com/marklogic-community/ml-gradle/wiki/Bundles).

You can deploy the sample-project under "examples/sample-project" - see the README.md file in that directory for 
instructions on doing so.


# Testing with MarkLogic Koop Provider

Clone the https://github.com/koopjs/koop-provider-marklogic repository, checkout the develop branch, and read the 
CONTRIBUTING.md file.


# Testing the documentation locally

The docs for this project are stored in the `./docs` directory as a set of Markdown files. These are published via
[GitHub Pages](https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages) using the
configuration found under "Settings / Pages" in this repository.

You can build and test the docs locally by
[following these GitHub instructions](https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/testing-your-github-pages-site-locally-with-jekyll),
though you don't need to perform all of those steps since some of the files generated by doing so are already in the
`./docs` directory. You just need to do the following:

1. Install the latest Ruby (rbenv works well for this).
2. Install Jekyll.
3. Go to the docs directory - `cd ./docs` .
4. Run `bundle install` (this may not be necessary due to Gemfile.lock being in version control).
5. Run `bundle exec jekyll serve`.

You can then go to http://localhost:4000 to view the docs. 
